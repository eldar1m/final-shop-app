{% if cart.items contains 'jordan' %}
  {% assign upsell_products = null %}
{% else %}
  {% assign upsell_products = collections['upsell-products'].products %}
{% endif %}
{% if upsell_products != null %}
  <div class="cart-upsells">
    <h3>You might also like</h3>

    <!-- Swiper Container -->
    <div class="swiper cart-upsell-swiper">
      <div class="swiper-wrapper upsell-grid">
        {% for product in upsell_products %}
          <div class="swiper-slide">
            {% render 'product-card', product: product %}
          </div>
        {% endfor %}
      </div>

      <!-- Navigation -->
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  </div>
{% endif %}

<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Swiper('.cart-upsell-swiper', {
      slidesPerView: 2,
      spaceBetween: 10,
      loop: true,
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
      breakpoints: {
        0: { slidesPerView: 1 },
        768: { slidesPerView: 2 },
      },
    });
  });
</script>
